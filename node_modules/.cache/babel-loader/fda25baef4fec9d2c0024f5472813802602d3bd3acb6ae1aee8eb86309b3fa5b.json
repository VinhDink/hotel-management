{"ast":null,"code":"import { defineComponent, ref } from 'vue';\nimport axios from '../config';\nimport { useRoute } from 'vue-router';\nimport { useRouter } from 'vue-router';\nexport default defineComponent({\n  name: 'ModifyView',\n  setup() {\n    const router = useRouter();\n    const route = useRoute();\n    const id = route.params.id;\n    const imageFirstFile = ref(null);\n    const imageSecondFile = ref(null);\n    const imageThirdFile = ref(null);\n    const imageFirst = event => {\n      imageFirstFile.value = event.target.files[0];\n    };\n    const imageSecond = event => {\n      imageSecondFile.value = event.target.files[0];\n    };\n    const imageThird = event => {\n      imageThirdFile.value = event.target.files[0];\n    };\n\n    /**\n     * Get room data\n     *\n     * @return void\n     */\n\n    const update = async () => {\n      const formData = new FormData();\n      const form = document.querySelector('form');\n      formData.append('id', id);\n      for (let input of form) {\n        if (input.value !== '') {\n          if (input.name == 'image_first') {\n            formData.append('image_first', imageFirstFile.value);\n          }\n          if (input.name == 'image_second') {\n            formData.append('image_second', imageSecondFile.value);\n          }\n          if (input.name == 'image_third') {\n            formData.append('image_third', imageThirdFile.value);\n          }\n          // else if (input.name !== 'image_first' && input.name !== 'image_second' && input.name !== 'image_third') {\n          //   formData.append(input.name, input.value)\n          // }\n        }\n      }\n      // for (const value of formData.values()) {\n      //   console.log(value);\n      // }\n      await axios.post('modify', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      // router.push({ name: 'Room' })\n    };\n\n    return {\n      update,\n      id,\n      router,\n      imageFirst,\n      imageSecond,\n      imageThird\n    };\n  }\n});","map":{"version":3,"names":["defineComponent","ref","axios","useRoute","useRouter","name","setup","router","route","id","params","imageFirstFile","imageSecondFile","imageThirdFile","imageFirst","event","value","target","files","imageSecond","imageThird","update","formData","FormData","form","document","querySelector","append","input","post","headers"],"sources":["/Users/vinh/Documents/Kiai/abc_hotel/src/views/ModifyView.vue"],"sourcesContent":["<template>\n  <form @submit.prevent=\"update\" class=\"row g-3\">\n    <div class=\"col-md-6\">\n      <label for=\"name\" class=\"form-label\">Room Name</label>\n      <input type=\"text\" id=\"name\" name=\"name\" v-model=\"name\" class=\"form-control\">\n    </div>\n    <div class=\"col-md-6\">\n      <label for=\"image_first\" class=\"form-label\">First Image</label>\n      <input type=\"file\" ref=\"fileInput\" @change=\"imageFirst\" id=\"image_first\" name=\"image_first\" class=\"form-control\">\n    </div>\n    <div class=\"col-md-6\">\n      <label for=\"image_second\" class=\"form-label\">Second Image</label>\n      <input type=\"file\" ref=\"fileInput\" @change=\"imageSecond\" id=\"image_second\" name=\"image_second\" class=\"form-control\">\n    </div>\n    <div class=\"col-md-6\">\n      <label for=\"image_third\" class=\"form-label\">Third Image</label>\n      <input type=\"file\" ref=\"fileInput\" @change=\"imageThird\" id=\"image_third\" name=\"image_third\" class=\"form-control\">\n    </div>\n    <div class=\"col-md-6\">\n      <label for=\"type\" class=\"form-label\">Type</label>\n      <input type=\"text\" id=\"type\" name=\"type\" v-model=\"type\" class=\"form-control\">\n    </div>\n    <div class=\"col-md-6\">\n      <label for=\"hour_price\" class=\"form-label\">Hour Price</label>\n      <input type=\"text\" id=\"hour_price\" name=\"hour_price\" v-model=\"hour_price\" class=\"form-control\">\n    </div>\n    <div class=\"col-md-6\">\n      <label for=\"day_price\" class=\"form-label\">Day Price</label>\n      <input type=\"text\" id=\"day_price\" name=\"day_price\" v-model=\"day_price\" class=\"form-control\">\n    </div>\n    <div class=\"col-md-6\">\n      <label for=\"size\" class=\"form-label\">Size</label>\n      <input type=\"number\" id=\"size\" name=\"size\" v-model=\"size\" class=\"form-control\">\n    </div>\n    <div class=\"col-md-6\">\n      <label class=\"form-label\">Balcony</label>\n      <div>\n        <div class=\"form-check\">\n          <select name=\"balcony\" id=\"balcony\" v-model=\"balcony\" class=\"form-select\">\n            <option value=\"1\">True</option>\n            <option value=\"0\">False</option>\n          </select>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-md-6\">\n      <label for=\"view\" class=\"form-label\">View</label>\n      <input type=\"text\" id=\"view\" name=\"view\" v-model=\"view\" class=\"form-control\">\n    </div>\n    <div class=\"col-md-6\">\n      <label for=\"description\" class=\"form-label\">Description</label>\n      <input type=\"text\" id=\"description\" name=\"description\" v-model=\"description\" class=\"form-control\">\n    </div>\n    <div class=\"col-md-6\">\n      <label class=\"form-label\">Smoking</label>\n      <div>\n        <div class=\"form-check\">\n          <select name=\"smoking\" id=\"smoking\" v-model=\"smoking\" class=\"form-select\">\n            <option value=\"1\">True</option>\n            <option value=\"0\">False</option>\n          </select>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-md-6\">\n      <label for=\"floor\" class=\"form-label\">Floor</label>\n      <input type=\"number\" id=\"floor\" name=\"floor\" v-model=\"floor\" class=\"form-control\">\n    </div>\n    <div class=\"col-md-6\">\n      <label class=\"form-label\">Bathtub</label>\n      <div>\n        <div class=\"form-check\">\n          <select name=\"bathtub\" id=\"bathtub\" v-model=\"bathtub\" class=\"form-select\">\n            <option value=\"1\">True</option>\n            <option value=\"0\">False</option>\n          </select>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-12\">\n      <button type=\"submit\" class=\"btn btn-primary\">\n        <i class=\"bi bi-check-circle\"></i> Submit\n      </button>\n    </div>\n  </form>\n</template>\n\n<script>\nimport { defineComponent, ref } from 'vue'\nimport axios from '../config'\nimport { useRoute } from 'vue-router'\nimport { useRouter } from 'vue-router'\n\nexport default defineComponent({\n  name: 'ModifyView',\n\n  setup() {\n    const router = useRouter()\n    const route = useRoute()\n    const id = route.params.id\n    const imageFirstFile = ref(null)\n    const imageSecondFile = ref(null)\n    const imageThirdFile = ref(null)\n\n    const imageFirst = (event) => {\n      imageFirstFile.value = event.target.files[0]\n    }\n\n    const imageSecond = (event) => {\n      imageSecondFile.value = event.target.files[0];\n    }\n\n    const imageThird = (event) => {\n      imageThirdFile.value = event.target.files[0];\n    }\n\n\n    /**\n     * Get room data\n     *\n     * @return void\n     */\n\n    const update = async () => {\n      const formData = new FormData()\n      const form = document.querySelector('form')\n      formData.append('id', id)\n      for (let input of form) {\n        if (input.value !== '') {\n          if (input.name == 'image_first') {\n            formData.append('image_first', imageFirstFile.value)\n          }\n          if (input.name == 'image_second') {\n            formData.append('image_second', imageSecondFile.value)\n          }\n          if (input.name == 'image_third') {\n            formData.append('image_third', imageThirdFile.value)\n          }\n          // else if (input.name !== 'image_first' && input.name !== 'image_second' && input.name !== 'image_third') {\n          //   formData.append(input.name, input.value)\n          // }\n        }\n\n      }\n      // for (const value of formData.values()) {\n      //   console.log(value);\n      // }\n      await axios.post('modify', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      })\n      // router.push({ name: 'Room' })\n\n    }\n    return {\n      update,\n      id,\n      router,\n      imageFirst,\n      imageSecond,\n      imageThird,\n    }\n  }\n\n})\n</script>    \n"],"mappings":"AAwFA,SAASA,eAAe,EAAEC,GAAE,QAAS,KAAI;AACzC,OAAOC,KAAI,MAAO,WAAU;AAC5B,SAASC,QAAO,QAAS,YAAW;AACpC,SAASC,SAAQ,QAAS,YAAW;AAErC,eAAeJ,eAAe,CAAC;EAC7BK,IAAI,EAAE,YAAY;EAElBC,KAAKA,CAAA,EAAG;IACN,MAAMC,MAAK,GAAIH,SAAS,CAAC;IACzB,MAAMI,KAAI,GAAIL,QAAQ,CAAC;IACvB,MAAMM,EAAC,GAAID,KAAK,CAACE,MAAM,CAACD,EAAC;IACzB,MAAME,cAAa,GAAIV,GAAG,CAAC,IAAI;IAC/B,MAAMW,eAAc,GAAIX,GAAG,CAAC,IAAI;IAChC,MAAMY,cAAa,GAAIZ,GAAG,CAAC,IAAI;IAE/B,MAAMa,UAAS,GAAKC,KAAK,IAAK;MAC5BJ,cAAc,CAACK,KAAI,GAAID,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC;IAC7C;IAEA,MAAMC,WAAU,GAAKJ,KAAK,IAAK;MAC7BH,eAAe,CAACI,KAAI,GAAID,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAC/C;IAEA,MAAME,UAAS,GAAKL,KAAK,IAAK;MAC5BF,cAAc,CAACG,KAAI,GAAID,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAC9C;;IAGA;;;;;;IAMA,MAAMG,MAAK,GAAI,MAAAA,CAAA,KAAY;MACzB,MAAMC,QAAO,GAAI,IAAIC,QAAQ,CAAC;MAC9B,MAAMC,IAAG,GAAIC,QAAQ,CAACC,aAAa,CAAC,MAAM;MAC1CJ,QAAQ,CAACK,MAAM,CAAC,IAAI,EAAElB,EAAE;MACxB,KAAK,IAAImB,KAAI,IAAKJ,IAAI,EAAE;QACtB,IAAII,KAAK,CAACZ,KAAI,KAAM,EAAE,EAAE;UACtB,IAAIY,KAAK,CAACvB,IAAG,IAAK,aAAa,EAAE;YAC/BiB,QAAQ,CAACK,MAAM,CAAC,aAAa,EAAEhB,cAAc,CAACK,KAAK;UACrD;UACA,IAAIY,KAAK,CAACvB,IAAG,IAAK,cAAc,EAAE;YAChCiB,QAAQ,CAACK,MAAM,CAAC,cAAc,EAAEf,eAAe,CAACI,KAAK;UACvD;UACA,IAAIY,KAAK,CAACvB,IAAG,IAAK,aAAa,EAAE;YAC/BiB,QAAQ,CAACK,MAAM,CAAC,aAAa,EAAEd,cAAc,CAACG,KAAK;UACrD;UACA;UACA;UACA;QACF;MAEF;MACA;MACA;MACA;MACA,MAAMd,KAAK,CAAC2B,IAAI,CAAC,QAAQ,EAAEP,QAAQ,EAAE;QACnCQ,OAAO,EAAE;UACP,cAAc,EAAE;QAClB;MACF,CAAC;MACD;IAEF;;IACA,OAAO;MACLT,MAAM;MACNZ,EAAE;MACFF,MAAM;MACNO,UAAU;MACVK,WAAW;MACXC;IACF;EACF;AAEF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}