{"ast":null,"code":"import { defineComponent, ref } from 'vue';\nimport axios from '../config';\nimport LineChart from '../components/LineChart.vue';\nexport default defineComponent({\n  name: 'DashboardView',\n  components: {\n    LineChart\n  },\n  data() {\n    return {\n      loaded: false,\n      LineChartData: {\n        labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n        datasets: [{\n          label: 'Booking',\n          data: [],\n          borderColor: 'rgba(54, 162, 235, 1)',\n          borderWidth: 1\n        }]\n      },\n      LineChartOptions: {\n        plugins: {\n          legend: {\n            display: false\n          }\n        },\n        responsive: true,\n        maintainAspectRatio: false,\n        scales: {\n          x: {\n            title: {\n              display: true,\n              text: 'Booking'\n            },\n            ticks: {\n              beginAtZero: true\n            }\n          },\n          y: {\n            min: 0,\n            ticks: {\n              stepSize: 1\n            },\n            title: {\n              display: true,\n              text: 'Month'\n            }\n          }\n        },\n        elements: {\n          point: {\n            backgroundColor: 'red'\n          }\n        }\n      },\n      BarChartData: {\n        labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n        datasets: [{\n          label: 'Income',\n          data: [],\n          backgroundColor: 'rgba(54, 162, 235, 0.2)',\n          borderColor: 'rgba(54, 162, 235, 1)',\n          borderWidth: 1,\n          type: 'bar'\n        }]\n      },\n      BarChartOptions: {\n        scales: {\n          x: {\n            title: {\n              display: true\n            },\n            ticks: {\n              beginAtZero: true\n            }\n          },\n          y: {\n            title: {\n              display: true,\n              text: 'Month'\n            }\n          }\n        }\n      },\n      PieChartData: {\n        labels: ['Income', 'Employee salary', 'expense', 'tax'],\n        datasets: [{\n          backgroundColor: ['rgb(56, 253, 83)', 'rgb(82, 253, 247)', 'rgb(253,56,56)', 'rgb(244,255,70)'],\n          data: [33, 33, 33, 33],\n          borderWidth: 1,\n          type: 'pie'\n        }]\n      },\n      //make legend show all 4 labels\n      PieChartOptions: {\n        legend: {\n          display: true,\n          position: 'bottom'\n        },\n        responsive: true,\n        maintainAspectRatio: true\n      }\n    };\n  },\n  setup() {\n    const guestInfos = ref([]);\n    const bookingInfos = ref([]);\n    const incomeAndSalary = ref([]);\n    const getData = async () => {\n      try {\n        let results = await axios.get('dashboard');\n        guestInfos.value = results.data.guestInfos;\n        bookingInfos.value = results.data.bookingInfos;\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getData();\n    return {\n      guestInfos,\n      bookingInfos,\n      incomeAndSalary\n    };\n  },\n  async mounted() {\n    this.loaded = false;\n    try {\n      const bookingThisYear = await axios.get('booking-this-year');\n      this.LineChartData.datasets[0].data = bookingThisYear.data;\n      const interestThisYear = await axios.get('interest-this-year');\n      console.log(interestThisYear);\n      this.BarChartData.datasets[0].data = interestThisYear.data;\n      // const IncomeAndSalary = await axios.get('income-this-month')\n      // this.PieChartData.datasets[0].data = IncomeAndSalary.data\n      this.loaded = true;\n    } catch (e) {\n      console.error(e);\n    }\n  }\n});","map":{"version":3,"names":["defineComponent","ref","axios","LineChart","name","components","data","loaded","LineChartData","labels","datasets","label","borderColor","borderWidth","LineChartOptions","plugins","legend","display","responsive","maintainAspectRatio","scales","x","title","text","ticks","beginAtZero","y","min","stepSize","elements","point","backgroundColor","BarChartData","type","BarChartOptions","PieChartData","PieChartOptions","position","setup","guestInfos","bookingInfos","incomeAndSalary","getData","results","get","value","error","console","log","mounted","bookingThisYear","interestThisYear","e"],"sources":["/Users/vinh/Documents/Kiai/abc_hotel/src/views/DashboardView.vue"],"sourcesContent":["<template>\n  <div class=\"body\">\n    <div class=\"title-box\">\n      <h1 class=\"title\">Dashboard</h1>\n    </div>\n    <div>\n      <div class=\"table-box\">\n        <table class=\"table\">\n          <tr>\n            <th>Booking ID</th>\n            <th>Guest Name</th>\n            <th>Guest Number</th>\n            <th>Room ID</th>\n            <th>Total Price</th>\n          </tr>\n          <tr v-for=\"guest in guestInfos\" :key=\"guest.id\">\n            <td>{{ guest.id }}</td>\n            <td>{{ guest.guest_name }}</td>\n            <td>{{ guest.guest_number }}</td>\n            <td>{{ guest.room_id }}</td>\n            <td>{{ guest.checkin.total_price }}</td>\n          </tr>\n        </table>\n      </div>\n    </div>\n    <div class=\"summary-box\">\n      <div class=\"summary\">\n        <div class=\"icon-box\">\n          <i class=\"bi bi-cash-stack money-icon\"></i>\n        </div>\n        <div class=\"summary-title\">\n          Today's interest\n        </div>\n        <div class=\"summary-value\">\n          {{ bookingInfos.total }}\n        </div>\n      </div>\n      <div class=\"summary\">\n        <div class=\"icon-box\">\n          <i class=\"bi bi-bag-check checkin-icon\"></i>\n        </div>\n        <div class=\"summary-title\">\n          This month checkin\n        </div>\n        <div class=\"summary-value\">\n          {{ bookingInfos.lastMonth }}\n        </div>\n      </div>\n      <div class=\"summary\">\n        <div class=\"icon-box\">\n          <i class=\"bi bi-safe2 safe-icon\"></i>\n        </div>\n        <div class=\"summary-title\">\n          This month interest\n        </div>\n        <div class=\"summary-value\">\n          {{ bookingInfos.lastMonthTotal }}\n        </div>\n      </div>\n    </div>\n    <div class=\"chart\">\n      <h2>Total booking of each month this year</h2>\n      <div>\n        <LineChart v-if=\"loaded\" :chartData=\"LineChartData\" :chartOptions=\"LineChartOptions\" />\n      </div>\n      <h2>Interest of each month this year</h2>\n      <div>\n        <LineChart v-if=\"loaded\" :chartData=\"BarChartData\" :chartOptions=\"BarChartOptions\" />\n      </div>\n    </div>\n    <div>\n      <h2>Income after expense</h2>\n      <div>\n        <LineChart v-if=\"loaded\" :chartData=\"PieChartData\" :chartOptions=\"PieChartOptions\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, ref } from 'vue';\nimport axios from '../config'\nimport LineChart from '../components/LineChart.vue'\n\nexport default defineComponent({\n  name: 'DashboardView',\n  components: {\n    LineChart\n  },\n  data() {\n    return {\n      loaded: false,\n      LineChartData: {\n        labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n        datasets: [\n          {\n            label: 'Booking',\n            data: [],\n            borderColor: 'rgba(54, 162, 235, 1)',\n            borderWidth: 1,\n          },\n        ],\n      },\n      LineChartOptions: {\n        plugins: {\n          legend: {\n            display: false\n          }\n        },\n        responsive: true,\n        maintainAspectRatio: false,\n        scales: {\n          x: {\n            title: {\n              display: true,\n              text: 'Booking'\n            },\n            ticks: {\n              beginAtZero: true\n            }\n          },\n          y: {\n            min: 0,\n            ticks: {\n              stepSize: 1\n            },\n            title: {\n              display: true,\n              text: 'Month'\n            }\n          },\n        },\n        elements: {\n          point: {\n            backgroundColor: 'red'\n          }\n        }\n      },\n      BarChartData: {\n        labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n        datasets: [{\n          label: 'Income',\n          data: [],\n          backgroundColor: 'rgba(54, 162, 235, 0.2)',\n          borderColor: 'rgba(54, 162, 235, 1)',\n          borderWidth: 1,\n          type: 'bar'\n        }]\n      },\n      BarChartOptions: {\n        scales: {\n          x: {\n            title: {\n              display: true,\n            },\n            ticks: {\n              beginAtZero: true\n            }\n          },\n          y: {\n            title: {\n              display: true,\n              text: 'Month'\n            }\n          }\n        }\n      },\n      PieChartData: {\n        labels: ['Income', 'Employee salary', 'expense', 'tax'],\n        datasets: [{\n          backgroundColor: [\n            'rgb(56, 253, 83)',\n            'rgb(82, 253, 247)',\n            'rgb(253,56,56)',\n            'rgb(244,255,70)'\n          ],\n          data: [33,33,33,33],\n  \n          borderWidth: 1,\n          type: 'pie'\n        }]\n      },\n      //make legend show all 4 labels\n      PieChartOptions: {\n        legend: {\n          display: true,\n          position: 'bottom'\n        },\n        responsive: true,\n        maintainAspectRatio: true,\n      }\n    }\n  },\n\n\n  setup() {\n    const guestInfos = ref([])\n    const bookingInfos = ref([])\n    const incomeAndSalary = ref([])\n    const getData = async () => {\n      try {\n        let results = await axios.get('dashboard')\n        guestInfos.value = results.data.guestInfos\n        bookingInfos.value = results.data.bookingInfos\n      } catch (error) {\n        console.log(error)\n      }\n    }\n    getData()\n\n    return {\n      guestInfos,\n      bookingInfos,\n      incomeAndSalary\n    }\n  },\n\n  async mounted() {\n    this.loaded = false\n    try {\n      const bookingThisYear = await axios.get('booking-this-year')\n      this.LineChartData.datasets[0].data = bookingThisYear.data\n      const interestThisYear = await axios.get('interest-this-year')\n      console.log(interestThisYear)\n      this.BarChartData.datasets[0].data = interestThisYear.data\n      // const IncomeAndSalary = await axios.get('income-this-month')\n      // this.PieChartData.datasets[0].data = IncomeAndSalary.data\n      this.loaded = true\n    } catch (e) {\n      console.error(e)\n    }\n  }\n\n})\n\n</script>\n\n<style scoped> @media (min-width: 769px) {\n   .body {\n     background-color: rgb(240, 240, 240);\n     display: flex;\n     flex-direction: column;\n     padding: 20px;\n     border-radius: 3px;\n     min-height: 100%;\n   }\n\n   .table-box {\n     border: 2px rgb(222, 222, 222) solid;\n     border-radius: 15px;\n     padding: 5px;\n   }\n\n   tr:nth-child(even) {\n     background-color: rgb(224, 224, 224);\n   }\n\n   td:first-child {\n     border-top-left-radius: 15px;\n     border-bottom-left-radius: 15px;\n   }\n\n   td:last-child {\n     border-top-right-radius: 15px;\n     border-bottom-right-radius: 15px;\n   }\n\n   .title-box {\n     display: flex;\n     justify-content: space-between;\n     margin-bottom: 40px;\n   }\n\n   .title {\n     order: 0;\n     font-weight: bold;\n   }\n\n   .summary-box {\n     display: flex;\n     justify-content: space-evenly;\n     margin-top: 100px;\n   }\n\n   .summary {\n     background-color: rgb(255, 255, 255);\n     box-shadow: 5px 5px 5px 5px rgb(235, 234, 234);\n     border-radius: 10px;\n     width: 250px;\n     padding: 15px\n   }\n\n   .summary-title {\n     font-size: 10px;\n     color: rgb(181, 181, 181);\n   }\n\n   .icon-box {\n     font-size: 80px;\n     text-align: center;\n   }\n\n   .money-icon {\n     color: rgb(0, 255, 0);\n   }\n\n   .checkin-icon {\n     color: rgb(255, 0, 0);\n   }\n\n   .chart {\n     display: flex;\n     flex-direction: column;\n     gap: 20px;\n     margin-top: 50px;\n   }\n\n   .safe-icon {\n     color: rgb(252, 255, 64);\n   }\n\n   .summary-value {\n     font-size: 30px;\n     font-weight: bold;\n   }\n }\n\n @media (max-width: 768px) {\n   .body {\n     background-color: rgb(240, 240, 240);\n     display: flex;\n     flex-direction: column;\n     min-height: 100vh;\n   }\n\n   .table-box {\n     overflow: scroll;\n   }\n\n   th {\n     padding: 10px\n   }\n\n   .table {\n     border: 2px rgb(222, 222, 222) solid;\n     border-radius: 13px;\n     padding: 5px;\n     white-space: nowrap;\n   }\n\n   td {\n     padding: 10px\n   }\n\n   .title-box {\n     display: flex;\n     justify-content: space-between;\n     padding: 10px;\n   }\n\n   .title {\n     order: 0;\n     font-weight: bold;\n   }\n\n   tr:nth-child(even) {\n     background-color: rgb(224, 224, 224);\n   }\n\n   td:first-child {\n     border-top-left-radius: 15px;\n     border-bottom-left-radius: 15px;\n   }\n\n   td:last-child {\n     border-top-right-radius: 15px;\n     border-bottom-right-radius: 15px;\n   }\n\n   .summary-box {\n     display: flex;\n     flex-direction: column;\n     justify-content: center;\n     padding: 10px;\n   }\n\n   .summary {\n     background-color: rgb(255, 255, 255);\n     box-shadow: 5px 5px 5px 5px rgb(235, 234, 234);\n     border-radius: 10px;\n     width: 250px;\n     padding: 15px;\n     margin: 10px;\n     align-self: center;\n     width: 100%;\n   }\n\n   .icon-box {\n     font-size: 50px;\n     text-align: center;\n   }\n\n   .money-icon {\n     color: rgb(0, 255, 0);\n   }\n\n   .checkin-icon {\n     color: rgb(255, 0, 0);\n   }\n\n   .safe-icon {\n     color: rgb(252, 255, 64);\n   }\n\n   .summary-value {\n     font-size: 30px;\n     font-weight: bold;\n   }\n\n   .summary-title {\n     font-size: 10px;\n     color: rgb(181, 181, 181);\n   }\n }\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}