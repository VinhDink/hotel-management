{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, defineComponent } from 'vue';\nimport axios from '../config';\nimport router from '@/router';\nexport default defineComponent({\n  name: \"CreateBookingView\",\n  setup() {\n    const guest_name = ref('');\n    const guest_number = ref('');\n    const arrive_date = ref('');\n    const leave_date = ref('');\n    const room_id = ref('');\n    const deviceWidth = ref(window.innerWidth);\n    const availableRoom = ref('');\n    const err = ref('');\n    /**\n     * Add booking\n     * \n     * @return {void}\n     */\n    const addBooking = async () => {\n      try {\n        const userId = (await axios.post('auth/me')).data.id;\n        await axios.post('create-booking', {\n          guest_name: guest_name.value,\n          guest_number: guest_number.value,\n          arrive_date: arrive_date.value,\n          // room_id: room_id.value,\n          leave_date: leave_date.value,\n          guest_id: userId\n        });\n        router.push({\n          name: 'Booking'\n        });\n      } catch (error) {\n        err.value = error.response.data.message;\n        console.log(err.value);\n      }\n    };\n    const showAvailableRoom = async id => {\n      try {\n        let response = await axios.post('booking/show-available-room', {\n          id\n        });\n        availableRoom.value = response.data;\n      } catch (error) {\n        err.value = error.response.data.message;\n        console.log(err.value);\n      }\n    };\n    const openModal = () => {\n      document.getElementById('modal').style.display = 'block';\n    };\n    const closeModal = () => {\n      document.getElementById('modal').style.display = 'none';\n    };\n    const checkAvailability = async () => {\n      try {\n        let response = await axios.post('booking/check-availability', {\n          arrive_date: arrive_date.value,\n          leave_date: leave_date.value\n        });\n        showAvailableRoom(response.data);\n        openModal();\n      } catch (error) {\n        err.value = error.response.data.message;\n        console.log(err.value);\n      }\n    };\n    return {\n      guest_name,\n      guest_number,\n      arrive_date,\n      room_id,\n      leave_date,\n      addBooking,\n      deviceWidth,\n      openModal,\n      closeModal,\n      err,\n      checkAvailability,\n      availableRoom\n    };\n  },\n  computed: {\n    errorValue() {\n      return this.err;\n    }\n  }\n});","map":{"version":3,"names":["ref","defineComponent","axios","router","name","setup","guest_name","guest_number","arrive_date","leave_date","room_id","deviceWidth","window","innerWidth","availableRoom","err","addBooking","userId","post","data","id","value","guest_id","push","error","response","message","console","log","showAvailableRoom","openModal","document","getElementById","style","display","closeModal","checkAvailability","computed","errorValue"],"sources":["/Users/vinh/Documents/Kiai/abc_hotel/src/views/CreateBookingView.vue"],"sourcesContent":["<template>\n  <div class=\"body\">\n    <div class=\"title-box\">\n      <h1 class=\"title\">Create Booking</h1>\n    </div>\n    <div class=\"input-box\">\n      <div class=\"input-box-content\">\n        <form @submit.prevent=\"checkAvailability()\" class=\"\">\n          <div class=\"input-title-box\">\n            Enter information\n          </div>\n          <div class=\"error\">\n            {{ errorValue }}\n          </div>\n          <div class=\"detail-modal\" id=\"modal\">\n            <div class=\"modal-content h-400px\">\n              <div class=\"modal-header\">\n                <span>Create booking</span>\n                <span class=\"close\" @click=\"closeModal\">&times;</span>\n              </div>\n              <div class=\"file-box mt-4\">\n                <form class=\"booking-form\" @submit.prevent=\"addBooking\">\n                  <div class=\"\">\n                    <label for=\"guest_name\" class=\"\">Guest Name</label>\n                    <div class=\"\">\n                      <input type=\"text\" id=\"guest_name\" v-model=\"guest_name\" name=\"guest_name\" class=\"input\">\n                    </div>\n                  </div>\n                  <div class=\"\">\n                    <label for=\"guest_number\" class=\"\">Guest Number</label>\n                    <div class=\"\">\n                      <input type=\"text\" id=\"guest_number\" v-model=\"guest_number\" name=\"guest_number\" class=\"input\">\n                    </div>\n                  </div>\n                  <input type=\"date\" id=\"arrive_date\" v-model=\"arrive_date\" name=\"arrive_date\" class=\"input\">\n                  <div>\n                    <label for=\"room\" class=\"\">Room</label>\n                    <div>\n                      <select class=\"input\" name=\"room\" id=\"room\">\n                        <option v-for=\"room in availableRoom\" :key=\"room.id\" :value=\"room.id\">\n                          {{ room.name }} \n                        </option>\n                      </select>\n                    </div>\n                    <button type=\"submit\" class=\"submit-button h-50px mt-3 w-100\">\n                    <i class=\"bi bi-check-circle\"></i> Submit\n                  </button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n          <div class=\"\">\n            <label for=\"arrive_date\" class=\"\">Arrive date</label>\n            <div class=\"\">\n              <input type=\"date\" id=\"arrive_date\" v-model=\"arrive_date\" name=\"arrive_date\" class=\"input\">\n            </div>\n          </div>\n          <div class=\"\">\n            <label for=\"leave_date\" class=\"\">Leave date</label>\n            <div class=\"\">\n              <input type=\"date\" id=\"leave_date\" v-model=\"leave_date\" name=\"leave_date\" class=\"input\">\n            </div>\n          </div>\n          <button type=\"submit\" class=\"submit-button w-100 h-50px mt-3\">\n            <i class=\"bi bi-check-circle\"></i> Check\n          </button>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, defineComponent } from 'vue'\nimport axios from '../config'\nimport router from '@/router'\n\nexport default defineComponent({\n  name: \"CreateBookingView\",\n  setup() {\n    const guest_name = ref('')\n    const guest_number = ref('')\n    const arrive_date = ref('')\n    const leave_date = ref('')\n    const room_id = ref('')\n    const deviceWidth = ref(window.innerWidth)\n    const availableRoom = ref('')\n    const err = ref('')\n    /**\n     * Add booking\n     * \n     * @return {void}\n     */\n    const addBooking = async () => {\n      try {\n        const userId = (await axios.post('auth/me')).data.id\n        await axios.post('create-booking', {\n          guest_name: guest_name.value,\n          guest_number: guest_number.value,\n          arrive_date: arrive_date.value,\n          // room_id: room_id.value,\n          leave_date: leave_date.value,\n          guest_id: userId\n        })\n        router.push({ name: 'Booking' })\n      } catch (error) {\n        err.value = error.response.data.message\n        console.log(err.value)\n      }\n    }\n\n    const showAvailableRoom = async (id) => {\n      try {\n        let response = await axios.post('booking/show-available-room', {\n          id\n        })\n        availableRoom.value = response.data\n      } catch (error) {\n        err.value = error.response.data.message\n        console.log(err.value)\n      }\n    }\n\n    const openModal = () => {\n      document.getElementById('modal').style.display = 'block'\n    }\n\n    const closeModal = () => {\n      document.getElementById('modal').style.display = 'none'\n    }\n\n\n    const checkAvailability = async () => {\n      try {\n        let response = await axios.post('booking/check-availability', {\n          arrive_date: arrive_date.value,\n          leave_date: leave_date.value\n        })\n        showAvailableRoom(response.data)\n        openModal()\n      } catch (error) {\n        err.value = error.response.data.message\n        console.log(err.value)\n      }\n    }\n\n    return {\n      guest_name,\n      guest_number,\n      arrive_date,\n      room_id,\n      leave_date,\n      addBooking,\n      deviceWidth,\n      openModal,\n      closeModal,\n      err,\n      checkAvailability,\n      availableRoom\n    }\n  },\n\n  computed: {\n    errorValue() {\n      return this.err;\n    }\n  }\n})\n</script>\n\n<style scoped>\n.h-50px {\n  height: 50px;\n}\n\n.h-400px {\n  height: 400px;\n}\n\n.booking-form {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n}\n\n.modal-header {\n  display: flex;\n  color: white;\n  font-size: 25px;\n  font-weight: bold;\n  width: 100%;\n  padding: 15px;\n  background-color: #18d6dc;\n}\n\n@media (min-width: 769px) {\n  .input-title-box {\n    font-size: 30px;\n    font-weight: bold;\n    margin-bottom: 40px;\n  }\n\n  .error {\n    color: red;\n    font-weight: bold;\n  }\n\n  .body {\n    background-color: rgb(240, 240, 240);\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n    border-radius: 3px;\n    height: 100%;\n  }\n\n\n  .input-box-content {\n    display: flex;\n    background-color: white;\n    justify-content: space-between;\n    height: 100%;\n    justify-content: center;\n    padding: 50px;\n    padding-left: 100px;\n    padding-right: 100px;\n    border: none;\n    border-radius: 3px;\n    box-shadow: 5px 5px 5px 5px #d5d5d5;\n  }\n\n  .input-box {\n    margin-top: 40px;\n    padding: 20px;\n    display: flex;\n    justify-content: center;\n  }\n\n  .input {\n    border: none;\n    background-color: rgb(240, 240, 240);\n    border-radius: 3px;\n    width: 300px;\n    height: 50px;\n  }\n}\n\n@media (max-width: 768px) {\n\n  .input-title-box {\n    font-size: 30px;\n    font-weight: bold;\n    margin-bottom: 40px;\n  }\n\n  .body {\n    background-color: rgb(240, 240, 240);\n    display: flex;\n    flex-direction: column;\n    min-height: 100vh;\n  }\n\n  .input-box {\n    margin-top: 40px;\n    padding: 20px;\n    display: flex;\n    justify-content: center;\n  }\n\n  .input-box-content {\n    display: flex;\n    background-color: white;\n    justify-content: space-between;\n    height: 100%;\n    min-width: 100%;\n    justify-content: center;\n    border: none;\n    border-radius: 3px;\n    padding: 50px;\n    box-shadow: 5px 5px 5px 5px #d5d5d5;\n  }\n\n  .error {\n    color: red;\n    font-weight: bold;\n  }\n\n  .input {\n    border: none;\n    background-color: rgb(240, 240, 240);\n    border-radius: 3px;\n    width: 250px;\n    height: 50px;\n    margin-bottom: 20px;\n  }\n\n  .submit-button {\n    border: none;\n    background: #93e4c1;\n    color: white;\n    border-radius: 3px;\n    width: 250px;\n    height: 50px;\n    margin-top: 20px;\n  }\n\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}