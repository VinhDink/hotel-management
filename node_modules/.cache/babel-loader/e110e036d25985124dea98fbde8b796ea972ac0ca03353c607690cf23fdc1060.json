{"ast":null,"code":"import axios from 'axios';\naxios.interceptors.request.use(config => {\n  config.baseURL = 'http://localhost:8000/api';\n  config.headers.Accept = 'application/json';\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\naxios.interceptors.response.use(response => {\n  const newToken = response.data.access_token;\n  if (newToken) {\n    localStorage.setItem('token', newToken);\n  }\n  return response;\n}, error => {\n  return Promise.reject(error);\n});\nexport default axios;","map":{"version":3,"names":["axios","interceptors","request","use","config","baseURL","headers","Accept","token","localStorage","getItem","Authorization","error","Promise","reject","response","newToken","data","access_token","setItem"],"sources":["/Users/vinh/Documents/Kiai/abc_hotel/src/config/index.js"],"sourcesContent":["import axios from 'axios'\n\naxios.interceptors.request.use(\n  (config) => {\n    config.baseURL = 'http://localhost:8000/api'\n    config.headers.Accept = 'application/json'\n    const token = localStorage.getItem('token')\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`\n    }\n\n    return config\n  },\n  (error) => {\n    return Promise.reject(error)\n  }\n)\n\naxios.interceptors.response.use(\n  (response) => {\n    const newToken = response.data.access_token\n    if (newToken) {\n      localStorage.setItem('token', newToken)\n    }\n    \n    return response\n  },\n  (error) => {\n    return Promise.reject(error)\n  }\n)\n\nexport default axios\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzBA,KAAK,CAACC,YAAY,CAACC,OAAO,CAACC,GAAG,CAC3BC,MAAM,IAAK;EACVA,MAAM,CAACC,OAAO,GAAG,2BAA2B;EAC5CD,MAAM,CAACE,OAAO,CAACC,MAAM,GAAG,kBAAkB;EAC1C,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAIF,KAAK,EAAE;IACTJ,MAAM,CAACE,OAAO,CAACK,aAAa,GAAI,UAASH,KAAM,EAAC;EAClD;EAEA,OAAOJ,MAAM;AACf,CAAC,EACAQ,KAAK,IAAK;EACT,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;AAEDZ,KAAK,CAACC,YAAY,CAACc,QAAQ,CAACZ,GAAG,CAC5BY,QAAQ,IAAK;EACZ,MAAMC,QAAQ,GAAGD,QAAQ,CAACE,IAAI,CAACC,YAAY;EAC3C,IAAIF,QAAQ,EAAE;IACZP,YAAY,CAACU,OAAO,CAAC,OAAO,EAAEH,QAAQ,CAAC;EACzC;EAEA,OAAOD,QAAQ;AACjB,CAAC,EACAH,KAAK,IAAK;EACT,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;AAED,eAAeZ,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}