{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-01f37b54\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"body\"\n};\nconst _hoisted_2 = {\n  class: \"title-box\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"title\"\n}, \"Booking\", -1 /* HOISTED */));\nconst _hoisted_4 = {\n  class: \"create-button-box\"\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"modify-button\"\n}, \"Create booking\", -1 /* HOISTED */));\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_DataTable = _resolveComponent(\"DataTable\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_router_link, {\n    to: \"/create-booking\"\n  }, {\n    default: _withCtx(() => [_hoisted_5]),\n    _: 1 /* STABLE */\n  })]), _hoisted_6]), _createCommentVNode(\" <div class=\\\"table-box\\\">\\n      <table class=\\\"table\\\">\\n        <tr class=\\\"\\\">\\n          <th>Booking ID</th>\\n          <th>Guest Name</th>\\n          <th>Guest Number</th>\\n          <th>Room ID</th>\\n          <th>Checked</th>\\n        </tr>\\n        <tr v-for=\\\"booking in bookings\\\" :key=\\\"booking.id\\\">\\n          <td>{{ booking.id }}</td>\\n          <td>{{ booking.guest_name }}</td>\\n          <td>{{ booking.guest_number }}</td>\\n          <td>{{ booking.room_id }}</td>\\n          <td>{{ booking.checked }}</td>\\n          <td>\\n            <div>\\n              <button @click=\\\"checkin(booking.id)\\\" class=\\\"submit-button\\\">\\n                <i class=\\\"bi bi-check-circle\\\"></i> Checkin\\n              </button>\\n            </div>\\n          </td>\\n          <td>\\n            <div>\\n              <button @click=\\\"destroy(booking.id)\\\" class=\\\"danger-button\\\">\\n                <i class=\\\"bi bi-trash\\\"></i> Delete\\n              </button>\\n            </div>\\n          </td>\\n        </tr>\\n      </table>\\n    </div> \"), _createVNode(_component_DataTable, {\n    tableDatas: _ctx.bookings,\n    tableTitles: _ctx.tableTitles,\n    actionSubmit: 'Checkin',\n    actionDanger: 'Delete',\n    functionSubmit: \"\"\n  }, null, 8 /* PROPS */, [\"tableDatas\", \"tableTitles\"])]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_router_link","to","_hoisted_5","_hoisted_6","_createCommentVNode","_component_DataTable","tableDatas","_ctx","bookings","tableTitles","actionSubmit","actionDanger","functionSubmit"],"sources":["/Users/vinh/Documents/Kiai/abc_hotel/src/views/BookingView.vue"],"sourcesContent":["<template>\n  <div class=\"body\">\n    <div class=\"title-box\">\n      <h1 class=\"title\">Booking</h1>\n      <div class=\"create-button-box\">\n        <router-link to=\"/create-booking\">\n          <button class=\"modify-button\">Create booking</button>\n        </router-link>\n      </div>\n      <br />\n    </div>\n    <!-- <div class=\"table-box\">\n      <table class=\"table\">\n        <tr class=\"\">\n          <th>Booking ID</th>\n          <th>Guest Name</th>\n          <th>Guest Number</th>\n          <th>Room ID</th>\n          <th>Checked</th>\n        </tr>\n        <tr v-for=\"booking in bookings\" :key=\"booking.id\">\n          <td>{{ booking.id }}</td>\n          <td>{{ booking.guest_name }}</td>\n          <td>{{ booking.guest_number }}</td>\n          <td>{{ booking.room_id }}</td>\n          <td>{{ booking.checked }}</td>\n          <td>\n            <div>\n              <button @click=\"checkin(booking.id)\" class=\"submit-button\">\n                <i class=\"bi bi-check-circle\"></i> Checkin\n              </button>\n            </div>\n          </td>\n          <td>\n            <div>\n              <button @click=\"destroy(booking.id)\" class=\"danger-button\">\n                <i class=\"bi bi-trash\"></i> Delete\n              </button>\n            </div>\n          </td>\n        </tr>\n      </table>\n    </div> -->\n    <DataTable :tableDatas=\"bookings\" :tableTitles=\"tableTitles\" :actionSubmit=\"'Checkin'\" :actionDanger=\"'Delete'\" :functionSubmit=\"\"/>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, ref } from \"vue\";\nimport axios from '../config';\nimport DataTable from '../components/DataTable.vue'\n\nexport default defineComponent({\n  name: \"BookingView\",\n  components: {\n    DataTable,\n  },\n\n  setup() {\n    const bookings = ref([]);\n    const tableTitles = ref(['Booking id', 'Guest name', 'Guest number', 'Arrive date', 'Room id', 'Checked'])\n    /**\n     * Get all bookings\n     *\n     * @return {void}\n     */\n    const getBooking = async () => {\n      const response = await axios.get(\"booking\");\n      bookings.value = response.data;\n    };\n\n    /**\n     * Checkin booking\n     *\n     * @param {int} id\n     *\n     * @return {void}\n     */\n    const checkin = async (id) => {\n      console.log(id);\n      try {\n        const response = await axios.post(\"checked\", {\n          id: id,\n        });\n        console.log(response.data);\n      } catch (error) {\n        console.error(error.response.data);\n      }\n      getBooking();\n    };\n\n    /**\n     * destroy a booking\n     *\n     * @param {*} id\n     *\n     * @return {void}\n     */\n    const destroy = async (id) => {\n      console.log(id);\n      try {\n        const response = await axios.delete(\n          \"checked/delBook\",\n          {\n            data: {\n              id: id,\n            },\n          }\n        );\n        console.log(response.data);\n      } catch (error) {\n        console.error(error.response);\n      }\n      getBooking();\n    };\n\n    getBooking();\n\n    return {\n      checkin,\n      destroy,\n      bookings,\n      tableTitles\n    };\n  },\n});\n</script>\n\n<style scoped>\n@media (min-width: 769px) {\n  .body {\n    background-color: rgb(240, 240, 240);\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n    border-radius: 3px;\n    height: 100%;\n  }\n\n  .table-box {\n    border: 2px rgb(222, 222, 222) solid;\n    border-radius: 15px;\n    padding: 5px;\n  }\n\n  tr:nth-child(even) {\n    background: rgb(224, 224, 224);\n  }\n\n  td:first-child {\n    border-top-left-radius: 15px;\n    border-bottom-left-radius: 15px;\n  }\n\n  td:last-child {\n    border-top-right-radius: 15px;\n    border-bottom-right-radius: 15px;\n  }\n\n \n\n  .create-button-box {\n    order: 2;\n  }\n\n  .create-button {\n    border: none;\n    border-radius: 30px;\n    padding: 10px;\n    background: #ff347f;\n    color: white\n  }\n\n  .create-button:hover {\n    background: #c9356c;\n    color: white;\n  }\n}\n\n@media (max-width:768px) {\n  .body {\n    background-color: rgb(240, 240, 240);\n    display: flex;\n    flex-direction: column;\n    min-height: 100vh;\n  }\n\n  .table-box {\n    overflow: scroll;\n  }\n\n  th {\n    padding: 10px\n  }\n\n\n  .create-button {\n    border: none;\n    border-radius: 30px;\n    padding: 10px;\n    background: #ff347f;\n    color: white\n  }\n  .create-button-box {\n    order: 1\n  }\n\n  tr:nth-child(even) {\n    background-color: rgb(224, 224, 224);\n  }\n\n  td:first-child {\n    border-top-left-radius: 15px;\n    border-bottom-left-radius: 15px;\n  }\n\n  td:last-child {\n    border-top-right-radius: 15px;\n    border-bottom-right-radius: 15px;\n  }\n}\n</style>\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAM;;EACVA,KAAK,EAAC;AAAW;gEACpBC,mBAAA,CAA8B;EAA1BD,KAAK,EAAC;AAAO,GAAC,SAAO;;EACpBA,KAAK,EAAC;AAAmB;gEAE1BC,mBAAA,CAAqD;EAA7CD,KAAK,EAAC;AAAe,GAAC,gBAAc;gEAGhDC,mBAAA,CAAM;;;;;uBARVC,mBAAA,CA2CM,OA3CNC,UA2CM,GA1CJF,mBAAA,CAQM,OARNG,UAQM,GAPJC,UAA8B,EAC9BJ,mBAAA,CAIM,OAJNK,UAIM,GAHJC,YAAA,CAEcC,sBAAA;IAFDC,EAAE,EAAC;EAAiB;sBAC/B,MAAqD,CAArDC,UAAqD,C;;QAGzDC,UAAM,C,GAERC,mBAAA,ihCA+BU,EACVL,YAAA,CAAoIM,oBAAA;IAAxHC,UAAU,EAAEC,IAAA,CAAAC,QAAQ;IAAGC,WAAW,EAAEF,IAAA,CAAAE,WAAW;IAAGC,YAAY,EAAE,SAAS;IAAGC,YAAY,EAAE,QAAQ;IAAGC,cAAc,EAAf"},"metadata":{},"sourceType":"module","externalDependencies":[]}